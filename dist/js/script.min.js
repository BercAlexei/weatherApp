"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".modal"),t=document.querySelector(".btn_setting"),o=document.querySelector(".modal__window-close");t.addEventListener("click",function(t){t.preventDefault(),e.classList.add("active"),document.querySelector("body").style.overflow="hidden"}),o.addEventListener("click",function(t){t.preventDefault(),e.classList.remove("active"),document.querySelector("body").style.overflow=""}),e.addEventListener("click",function(t){t.target===e&&(e.classList.remove("active"),document.querySelector("body").style.overflow="")}),document.addEventListener("keydown",function(t){"Escape"===t.code&&(e.classList.remove("active"),document.querySelector("body").style.overflow="")});var n=document.querySelector(":root"),r=(getComputedStyle(n),document.querySelector("#dark")),c=document.querySelector(".btn_submit"),a=document.querySelectorAll("[data-radio]");function d(){r.checked?(n.style.setProperty("--bg-color","#323232"),n.style.setProperty("--window-bg-color","#535353"),n.style.setProperty("--text-color","white"),n.style.setProperty("--bottom-color-not-active","#323232")):(n.style.setProperty("--bg-color","#F1F5FE"),n.style.setProperty("--window-bg-color","#ffffff"),n.style.setProperty("--text-color","black"),n.style.setProperty("--bottom-color-not-active","#EDEDED"))}function l(e,t){fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=42b9a336a38eb7423f252b2cae144b48&lang=ru&units=metric")).then(function(e){return e.json()}).then(function(e){document.querySelector("h1").textContent=e.name,document.querySelector(".weather__now-temp").innerHTML="".concat(Math.round(e.main.temp)," &deg;C "),document.querySelector(".weather__now-icon img").setAttribute("src","icons/weather/".concat(e.weather[0].icon,".svg")),document.querySelector(".weather__now-descr-text").textContent="".concat(e.weather[0].description),document.querySelector(".weather__now-descr-feel span").innerHTML="".concat(Math.round(e.main.feels_like)," &deg;C "),document.querySelector(".weather__now-descr-wind span").textContent="".concat(Math.round(e.wind.speed)," ")})}localStorage.getItem("dark")&&(r.checked=!0),d(),a.forEach(function(e){e.addEventListener("click",d)}),c.addEventListener("click",function(t){t.preventDefault(),localStorage.getItem("dark")?localStorage.removeItem("dark"):localStorage.setItem("dark",!0),document.querySelector("body").style.overflow="",e.classList.remove("active")}),new Promise(function(e){navigator.geolocation.getCurrentPosition(function(t){e(t.coords)})}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:item;l(e.latitude,e.longitude)});var i=document.querySelector("#city");i.addEventListener("change",function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(i.value,"&appid=42b9a336a38eb7423f252b2cae144b48&lang=ru&units=metric")).then(function(e){return e.json()}).then(function(e){l(e.coord.lat,e.coord.lon)})})});